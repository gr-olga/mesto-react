{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","images/bin.svg","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","link","name","type","isOwn","owner","_id","getOwnerCardClass","onClick","onCardDelete","bin","onCardClick","isLik","likes","some","i","getLikeCardClass","onCardLike","length","Main","card","onSelectedCard","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","key","Footer","ImagePopup","onClose","handleResponse","res","ok","json","Promise","reject","status","api","config","this","headers","baseUrl","fetch","then","cardId","method","inputData","body","JSON","stringify","authorization","PopupWithForm","isOpen","title","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","setLink","App","user","setUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","undefined","selectedCard","setSelectedCard","closeAllPopups","getInitialProfile","info","catch","err","console","log","setCards","getInitialCards","path","exact","Provider","deleteLikes","newCard","newCards","c","updateLikes","deleteCard","filter","item","obj","updateUserProfile","addCard","updateProfileAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yMAAe,MAA0B,iC,OCS1BA,MAPf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACI,qBAAKC,IAAKC,EAAMF,UAAU,eAAeG,IAAI,kD,QCJ5CC,EAAqBC,IAAMC,gBCDzB,MAA0B,gCCgD1BC,MA5Cf,SAAcC,GACV,IAAMC,EAAcJ,IAAMK,WAAWN,GAyB9BO,EAAcH,EAAdG,KAAMC,EAAQJ,EAARI,KACb,OACI,sBAAKZ,UAAU,OAAf,UACI,wBAAQa,KAAK,SAASb,UAd9B,WACI,IAAMc,EAAQN,EAAMO,MAAMC,MAAQP,EAAYO,IAC9C,MAAM,gBAAN,OAAuBF,EAAQ,sBAAwB,IAYlBG,GAAqBC,QAlB9D,WACIV,EAAMW,aAAaX,IAiBf,SACI,qBAAKP,IAAKmB,EAAKjB,IAAI,UAEvB,qBAAKH,UAAU,cAAcG,IAAKK,EAAMI,KAAMX,IAAKU,EAAMO,QA7BjE,WACIV,EAAMa,YAAYb,MA6Bd,sBAAKR,UAAU,aAAf,UACI,oBAAIA,UAAU,cAAd,SAA6BY,IAC7B,sBAAKZ,UAAU,iBAAf,UACI,wBAAQA,UAhBxB,WACI,IAAMsB,EAAQd,EAAMe,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAET,MAAQP,EAAYO,OAC1D,MAAM,cAAN,OAAqBM,EAAQ,oBAAsB,IAcpBI,GAAoBR,QA7BvD,WACIV,EAAMmB,WAAWnB,IA4B4DK,KAAK,WACtE,mBAAGb,UAAU,iBAAb,SAA+BQ,EAAMe,MAAMK,mBCFhDC,MAnCf,SAAcrB,GAEV,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,SAASiB,EAAYS,GACjBtB,EAAMuB,eAAeD,GAGzB,OACI,uBAAM9B,UAAU,UAAhB,UACI,0BAASA,UAAU,UAAnB,UACI,qBAAKA,UAAU,4BAAf,SACI,qBAAKC,IAAKQ,EAAYuB,OAAQhC,UAAU,kBAAkBG,IAAI,uCACzDe,QAASV,EAAMyB,iBAExB,sBAAKjC,UAAU,gBAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYG,OAC3C,wBAAQZ,UAAU,uBAAuBa,KAAK,SAASK,QAASV,EAAM0B,gBACtE,mBAAGlC,UAAU,iBAAb,SAA+BS,EAAY0B,WAE/C,wBAAQnC,UAAU,2BAA2Ba,KAAK,SAASK,QAASV,EAAM4B,gBAE9E,yBAASpC,UAAU,aAAnB,SACKQ,EAAM6B,MAAMC,KAAI,SAACR,EAAMd,GACpB,OAAO,wBAAC,EAAD,2BAAUc,GAAV,IACMT,YAAaA,EACbM,WAAYnB,EAAMmB,WAClBR,aAAcX,EAAMW,aACpBoB,IAAKT,EAAKd,gBCzB5BwB,MAPf,WACI,OACI,wBAAQxC,UAAU,SAAlB,SACI,mBAAGA,UAAU,oBAAb,uCCUGyC,MAZf,SAAoBjC,GAAO,IAAD,MAEtB,OACI,qBAAKR,UAAS,2BAAsBQ,EAAMsB,KAAO,gBAAkB,IAAnE,SACA,sBAAK9B,UAAU,wBAAf,UACI,wBAAQA,UAAU,yCAAyCa,KAAK,SAASK,QAASV,EAAMkC,UACxF,qBAAK1C,UAAU,aAAaG,IAAG,UAAEK,EAAMsB,YAAR,aAAE,EAAYlB,KAAMX,IAAG,UAAEO,EAAMsB,YAAR,aAAE,EAAYnB,OACpE,oBAAIX,UAAU,qBAAd,mBAAoCQ,EAAMsB,YAA1C,aAAoC,EAAYlB,a,gBCPtD+B,EAAiB,SAACC,GACpB,OAAKA,EAAIC,GAGFD,EAAIE,OAFAC,QAAQC,OAAR,iBAAyBJ,EAAIK,UAoF/BC,EAAM,I,WA9Ef,WAAYC,GAAS,oBACjBC,KAAKC,QAAUF,EAAOE,QACtBD,KAAKE,QAAUH,EAAOG,Q,mDAK1B,WACI,OAAOC,MAAM,GAAD,OAAIH,KAAKE,QAAT,UAA0B,CAClCD,QAASD,KAAKC,UAEbG,KAAKb,K,wBAGd,SAAWc,GACP,OAAOF,MAAM,GAAD,OAAIH,KAAKE,QAAT,kBAA0BG,GAAU,CAC5CC,OAAQ,SACRL,QAASD,KAAKC,Y,+BAItB,WACI,OAAOE,MAAM,GAAD,OAAIH,KAAKE,QAAT,aAA6B,CACrCD,QAASD,KAAKC,UAEbG,KAAKb,K,+BAGd,SAAkBgB,GACd,OAAOJ,MAAM,GAAD,OAAIH,KAAKE,QAAT,aAA6B,CACrCI,OAAQ,QACRL,QAASD,KAAKC,QACdO,KAAMC,KAAKC,UAAUH,KAEpBH,KAAKb,K,iCAGd,SAAoBX,GAChB,OAAOuB,MAAM,GAAD,OAAIH,KAAKE,QAAT,oBAAoC,CAC5CI,OAAQ,QACRL,QAASD,KAAKC,QACdO,KAAMC,KAAKC,UAAU,CACjB9B,aAGHwB,KAAKb,K,qBAGd,SAAQgB,GACJ,OAAOJ,MAAM,GAAD,OAAIH,KAAKE,QAAT,UAA0B,CAClCI,OAAQ,OACRL,QAASD,KAAKC,QACdO,KAAMC,KAAKC,UAAUH,KAEpBH,KAAKb,K,yBAGd,SAAYc,GACR,OAAOF,MAAM,GAAD,OAAIH,KAAKE,QAAT,wBAAgCG,GAAU,CAClDC,OAAQ,MACRL,QAASD,KAAKC,QACdO,KAAMC,KAAKC,UACP,CAACvC,MAAO,OAGXiC,KAAKb,K,yBAGd,SAAYc,GACR,OAAOF,MAAM,GAAD,OAAIH,KAAKE,QAAT,wBAAgCG,GAAU,CAClDC,OAAQ,SACRL,QAASD,KAAKC,UAEbG,KAAKb,O,KAKC,CAAQ,CACvBW,QAAS,8CACTD,QAAS,CACLU,cA1FM,uCA2FN,eAAgB,sBCpETC,MAtBf,SAAuBxD,GAMnB,OACI,qBAAKR,UAAS,2BAAsBQ,EAAMI,KAA5B,YAAoCJ,EAAMyD,OAAS,gBAAkB,IAAnF,SACI,sBAAKjE,UAAS,kCAA6BQ,EAAMI,MAAjD,UACI,wBAAQZ,UAAU,mBAAmBa,KAAK,SACjCK,QARrB,WACIV,EAAMkC,QAAQlC,MASN,oBAAIR,UAAU,eAAd,SAA8BQ,EAAM0D,QACpC,uBAAMlE,UAAU,cAAcY,KAAI,UAAKJ,EAAMI,KAAX,QAAuBuD,SAAU3D,EAAM2D,SAAzE,UACK3D,EAAM4D,SACP,wBAAQvD,KAAK,SAASb,UAAU,cAAhC,6ECmDLqE,MA9Df,SAA0B7D,GAEtB,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,EAAwBC,IAAMiE,SAAS,IAAvC,mBAAO1D,EAAP,KAAa2D,EAAb,KACA,EAAsClE,IAAMiE,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KAuBA,OArBApE,IAAMqE,WAAU,WACZH,EAAQ9D,EAAYG,MACpB6D,EAAehE,EAAY0B,SAC5B,CAAC1B,IAmBA,eAAC,EAAD,CAAeG,KAAK,UAAUsD,MAAM,4HACrBD,OAAQzD,EAAMyD,OACdvB,QAASlC,EAAMkC,QACfyB,SAZnB,SAAsBQ,GAClBA,EAAEC,iBACFpE,EAAMqE,aAAa,CACfjE,KAAMA,EACNuB,MAAOqC,KAKX,UAKI,wBAAOxE,UAAU,eAAjB,UACI,uBAAOY,KAAK,cAAckE,GAAG,eAAe9E,UAAU,eAAea,KAAK,OACnEkE,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOvE,GAAQ,GACfwE,SA7BnB,SAA0BT,GACtBJ,EAAQI,EAAEU,OAAOF,UA+BT,sBAAML,GAAG,qBAAqB9E,UAAU,uBAAxC,kBAEJ,wBAAOA,UAAU,eAAjB,UACI,uBAAOY,KAAK,QAAQkE,GAAG,QAAQ9E,UAAU,eAAea,KAAK,OACtDkE,YAAY,kCACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,MAAOX,GAAe,GACtBY,SArCnB,SAAiCT,GAC7BF,EAAeE,EAAEU,OAAOF,UAuChB,sBAAML,GAAG,cAAc9E,UAAU,wBAAjC,sBCxBDsF,MAlCf,SAAyB9E,GACrB,MAA6BH,IAAMiE,SAAS,IAA5C,mBAAOtC,EAAP,KAAeuD,EAAf,KAaA,OACI,cAAC,EAAD,CAAe3E,KAAK,SACLsD,MAAM,sEACND,OAAQzD,EAAMyD,OACdvB,QAASlC,EAAMkC,QACfyB,SAZnB,SAAsBQ,GAClBA,EAAEC,iBACFpE,EAAMgF,eAAe,CACjBxD,OAAQA,KAKZ,SAMI,wBAAOhC,UAAU,eAAjB,UACI,uBAAOY,KAAK,OAAOkE,GAAG,cAAc9E,UAAU,eAAea,KAAK,MAC3DkE,YAAY,gGACZG,UAAQ,EACRC,MAAOnD,EACPoD,SAvBnB,SAA4BT,GACxBY,EAAUZ,EAAEU,OAAOF,UAwBX,sBAAML,GAAG,oBAAoB9E,UAAU,uBAAvC,qBC4BDyF,MAxDf,SAAuBjF,GAEnB,MAAwBH,IAAMiE,SAAS,IAAvC,mBAAO3D,EAAP,KAAa+E,EAAb,KACA,EAAwBrF,IAAMiE,SAAS,IAAvC,mBAAO1D,EAAP,KAAa2D,EAAb,KAuBA,OArBAlE,IAAMqE,WAAU,WACZH,EAAQ,IACRmB,EAAQ,MACT,CAAClF,IAmBA,eAAC,EAAD,CAAeI,KAAK,OACLsD,MAAM,gEACND,OAAQzD,EAAMyD,OACdvB,QAASlC,EAAMkC,QACfyB,SAbnB,SAAsBQ,GAClBA,EAAEC,iBACFpE,EAAM4B,WAAW,CACbxB,KAAMA,EACND,KAAMA,KAKV,UAMI,wBAAOX,UAAU,eAAjB,UACI,uBAAOY,KAAK,YAAYkE,GAAG,aAAa9E,UAAU,eAAea,KAAK,OAC/DkE,YAAY,mDACZC,UAAU,IAAIC,UAAU,KACxBC,UAAQ,EACRC,MAAOvE,EACPwE,SA7BnB,SAA0BT,GACtBJ,EAAQI,EAAEU,OAAOF,UA8BT,sBAAML,GAAG,mBAAmB9E,UAAU,uBAAtC,mBAEJ,wBAAOA,UAAU,eAAjB,UACI,uBAAOY,KAAK,OAAOkE,GAAG,OAAO9E,UAAU,eAAea,KAAK,MACpDkE,YAAY,gGACZG,UAAQ,EACRC,MAAOxE,EACPyE,SAlCnB,SAA0BT,GACtBe,EAAQf,EAAEU,OAAOF,UAmCT,sBAAML,GAAG,aAAa9E,UAAU,uBAAhC,sB,OCwGD2F,MAjJf,WAEI,MAAwBtF,IAAMiE,SAAS,IAAvC,mBAAOsB,EAAP,KAAaC,EAAb,KAEA,EAA0DxF,IAAMiE,UAAS,GAAzE,mBAAOwB,EAAP,KAA+BC,EAA/B,KACA,EAAoD1F,IAAMiE,UAAS,GAAnE,mBAAO0B,EAAP,KAA4BC,EAA5B,KACA,EAAwD5F,IAAMiE,UAAS,GAAvE,mBAAO4B,EAAP,KAA8BC,EAA9B,KAEA,EAAwC9F,IAAMiE,cAAS8B,GAAvD,mBAAOC,EAAP,KAAqBC,EAArB,KAwBA,SAASC,IACLR,GAAwB,GACxBE,GAAqB,GACrBE,GAAuB,GACvBG,OAAgBF,GA1BpB/F,IAAMqE,WAAU,WACZxB,EAAIsD,oBAAoBhD,MAAK,SAACiD,GAC1BZ,EAAQY,MACTC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC/B,IAuCH,IAAMlG,EAAcJ,IAAMK,WAAWN,GACrC,EAA0BC,IAAMiE,SAAS,IAAzC,mBAAOjC,EAAP,KAAcyE,EAAd,KAuCA,OArCAzG,IAAMqE,WAAU,WACZxB,EAAI6D,kBAAkBvD,MAAK,SAAC1B,GACxBgF,EAAShF,MACV4E,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC/B,IAkCC,qBAAK3G,UAAU,MAAf,SACI,sBAAKA,UAAU,OAAf,UACI,qBAAKA,UAAU,OAAf,SACI,eAAC,IAAD,CAAOgH,KAAM,CAAC,IAAK,gBAAiBC,OAAO,EAA3C,UACA,cAAC,EAAD,IACA,cAAC7G,EAAmB8G,SAApB,CAA6B/B,MAAOS,EAApC,SACI,cAAC,EAAD,CACIxD,WAjFxB,WACI6D,GAAqB,IAiFDhE,aA9ExB,WACIkE,GAAuB,IA8EHjE,cA3ExB,WACI6D,GAAwB,IA2EJhE,eAxFxB,SAAyBD,GACrBwE,EAAgBxE,IAwFIO,MAAOA,EACPV,WA3CxB,SAAwBG,GACJA,EAAKP,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAET,MAAQP,EAAYO,OAOvDkC,EAAIiE,YAAYrF,EAAKd,KAAMwC,MAAK,SAAC4D,GAC7B,IAAMC,EAAWhF,EAAMC,KAAI,SAACgF,GAAD,OAAOA,EAAEtG,MAAQc,EAAKd,IAAMoG,EAAUE,KACjER,EAASO,MACVX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAR9BzD,EAAIqE,YAAYzF,EAAKd,KAAMwC,MAAK,SAAC4D,GAC7B,IAAMC,EAAWhF,EAAMC,KAAI,SAACgF,GAAD,OAAOA,EAAEtG,MAAQc,EAAKd,IAAMoG,EAAUE,KACjER,EAASO,MACVX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAsCdxF,aA5BxB,SAA0BW,GACtBoB,EAAIsE,WAAW1F,EAAKd,KAAKwC,MAAK,WAC1B,IAAM6D,EAAWhF,EAAMoF,QAAO,SAACC,GAAD,OAAU5F,EAAKd,MAAQ0G,EAAK1G,OAC1D8F,EAASO,MACVX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,WA2BlB,cAAC,EAAD,SAGJ,oCACI,eAACvG,EAAmB8G,SAApB,CAA6B/B,MAAOS,EAApC,UACI,cAAC,EAAD,CACI3B,OAAQ6B,EACRpD,QAAS6D,EACT1B,aA/ExB,SAA0B8C,GACtBzE,EAAI0E,kBAAkBD,GAAKnE,MAAK,SAACiD,GAC7BZ,EAAQY,MACTjD,MAAK,kBAAM+C,UA+EE,cAAC,EAAD,CACItC,OAAQ+B,EACRtD,QAAS6D,EACTnE,WAtCxB,SAA8BuF,GAC1BzE,EAAI2E,QAAQF,GAAKnE,MAAK,SAAC4D,GACnBN,EAAS,CAACM,GAAF,mBAAc/E,QACvBmB,MAAK,kBAAM+C,OACTG,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SAsChB,cAAC,EAAD,CACI1C,OAAQiC,EACRxD,QAAS6D,EACTf,eAtFxB,SAA4BmC,GACxBzE,EAAI4E,oBAAoBH,EAAI3F,QAAQwB,MAAK,SAACiD,GACtCZ,EAAQY,MACTjD,MAAK,kBAAM+C,OACTG,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,YAsFpB,cAAC,EAAD,CACI7E,KAAMuE,EACN3D,QAAS6D,aCzIlBwB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBzE,MAAK,YAAkD,IAA/C0E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,QCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,UACF,cAAC,EAAD,QAGFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.a6258b24.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ab669136.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header(){\n    return(\n        <header className=\"header\">\n            <img src={logo} className=\"header__logo\" alt=\"Логотип\"/>\n        </header>\n    )\n}\nexport default Header;","import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/bin.411087f0.svg\";","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport bin from \"../images/bin.svg\";\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function handleClick() {\n        props.onCardClick(props);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props)\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props)\n    }\n\n    function getOwnerCardClass() {\n        const isOwn = props.owner._id === currentUser._id;\n        return `card__remove ${isOwn ? 'card__remove_active' : ''}`\n    }\n\n    function getLikeCardClass() {\n        const isLik = props.likes.some(i => i._id === currentUser._id);\n        return `card__like ${isLik ? 'card__like-active' : ''}`\n    }\n\n\n    const {link, name} = props\n    return (\n        <div className=\"card\">\n            <button type=\"button\" className={getOwnerCardClass()} onClick={handleDeleteClick}>\n                <img src={bin} alt=\"bin\"/>\n            </button>\n            <img className=\"card__image\" alt={props.name} src={link} onClick={handleClick}/>\n            <div className=\"card__info\">\n                <h2 className=\"card__title\">{name}</h2>\n                <div className=\"card__like-box\">\n                    <button className={getLikeCardClass()} onClick={handleLikeClick} type=\"button\"/>\n                    <p className=\"card__like-num\">{props.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function onCardClick(card) {\n        props.onSelectedCard(card)\n    }\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"аватар\"\n                         onClick={props.onEditAvatar}/>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}/>\n                    <p className=\"profile__extra\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-card-button\" type=\"button\" onClick={props.onAddPlace}/>\n            </section>\n            <section className=\"cards-grid\">\n                {props.cards.map((card, _id) => {\n                    return <Card {...card}\n                                 onCardClick={onCardClick}\n                                 onCardLike={props.onCardLike}\n                                 onCardDelete={props.onCardDelete}\n                                 key={card._id}/>\n                })}\n            </section>\n        </main>\n    )\n}\n\nexport default Main;","function Footer(){\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n        </footer>\n    )\n}\nexport default Footer;","\nfunction ImagePopup(props){\n\n    return(\n        <div className={`popup popup_card ${props.card ? 'popup_is-open' : ''}`}  >\n        <div className=\"popup__card-container\">\n            <button className=\"popup__btn-close popup__card-btn-close\" type=\"button\" onClick={props.onClose}/>\n            <img className=\"popup__img\" alt={props.card?.name} src={props.card?.link}/>\n            <h2 className=\"popup__image-title\">{props.card?.name}</h2>\n        </div>\n    </div>\n    )\n}\nexport default ImagePopup;","const token = '0f33f4c7-0e3e-4427-807e-866f8ecb2bfc'\nconst handleResponse = (res) => {\n    if (!res.ok) {\n        return Promise.reject(`Error: ${res.status}`);\n    }\n    return res.json();\n}\n\nclass Api {\n    constructor(config) {\n        this.headers = config.headers\n        this.baseUrl = config.baseUrl\n    }\n\n\n\n    getInitialCards() {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers\n        })\n            .then(handleResponse)\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.baseUrl}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this.headers\n        })\n    }\n\n    getInitialProfile() {\n        return fetch(`${this.baseUrl}/users/me`, {\n            headers: this.headers\n        })\n            .then(handleResponse)\n    }\n\n    updateUserProfile(inputData) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify(inputData)\n        })\n            .then(handleResponse);\n    }\n\n    updateProfileAvatar(avatar) {\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                avatar\n            })\n        })\n            .then(handleResponse);\n    }\n\n    addCard(inputData) {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify(inputData)\n        })\n            .then(handleResponse);\n    }\n\n    updateLikes(cardId) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this.headers,\n            body: JSON.stringify(\n                {likes: ''}\n            )\n        })\n            .then(handleResponse);\n    }\n\n    deleteLikes(cardId) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this.headers,\n        })\n            .then(handleResponse);\n    }\n\n}\n\nexport const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\n    headers: {\n        authorization: token,\n        'Content-Type': 'application/json'\n    }\n});\n\n","import React from \"react\";\nfunction PopupWithForm(props) {\n\n    function closeForm(){\n        props.onClose(props)\n    }\n\n    return (\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-open' : ''}`} >\n            <div className={`popup__container popup__${props.name}`}>\n                <button className=\"popup__btn-close\" type=\"button\"\n                         onClick={closeForm}\n                />\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form className=\"popup__form\" name={`${props.name}Form`} onSubmit={props.onSubmit}>\n                    {props.children}\n                    <button type=\"submit\" className=\"popup__save\">Сохранить</button>\n                </form>\n            </div>\n        </div>\n    )\n\n}\nexport default PopupWithForm","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\"\n                       isOpen={props.isOpen}\n                       onClose={props.onClose}\n                       onSubmit={handleSubmit}\n        >\n            <label className=\"popup__label\">\n                <input name=\"profileName\" id=\"profile-name\" className=\"popup__input\" type=\"text\"\n                       placeholder=\"Имя\"\n                       minLength=\"2\"\n                       maxLength=\"40\"\n                       required\n                       value={name || ''}\n                       onChange={handleNameChange}\n                >\n                </input>\n                <span id=\"profile-name-error\" className=\"popup__message-error\"> </span>\n            </label>\n            <label className=\"popup__label\">\n                <input name=\"extra\" id=\"extra\" className=\"popup__input\" type=\"text\"\n                       placeholder=\"О себе\"\n                       minLength=\"2\"\n                       maxLength=\"200\"\n                       required\n                       value={description || ''}\n                       onChange={handleDescriptionChange}\n                >\n                </input>\n                <span id=\"extra-error\" className=\"popup__message-error \"> </span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n    const [avatar, setAvatar] =  React.useState('');\n\n    function handleChangeAvatar(e) {\n        setAvatar(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n            avatar: avatar\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"avatar\"\n                       title=\"Новый аватар\"\n                       isOpen={props.isOpen}\n                       onClose={props.onClose}\n                       onSubmit={handleSubmit}\n        >\n            <label className=\"popup__label\">\n                <input name=\"link\" id=\"avatar-link\" className=\"popup__input\" type=\"url\"\n                       placeholder=\"Cсылка на картинку\"\n                       required\n                       value={avatar}\n                       onChange={handleChangeAvatar}\n                />\n                <span id=\"avatar-link-error\" className=\"popup__message-error\"> </span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n    const [link, setLink] = React.useState('')\n    const [name, setName] = React.useState('')\n\n    React.useEffect(() => {\n        setName('');\n        setLink('');\n    }, [props]);\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({\n            name: name,\n            link: link,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"card\"\n                       title=\"Новое место\"\n                       isOpen={props.isOpen}\n                       onClose={props.onClose}\n                       onSubmit={handleSubmit}\n        >\n            <label className=\"popup__label\">\n                <input name=\"cardTitle\" id=\"card-title\" className=\"popup__input\" type=\"text\"\n                       placeholder=\"Название\"\n                       minLength=\"2\" maxLength=\"30\"\n                       required\n                       value={name}\n                       onChange={handleNameChange}\n                />\n                <span id=\"card-title-error\" className=\"popup__message-error\">  </span>\n            </label>\n            <label className=\"popup__label\">\n                <input name=\"link\" id=\"link\" className=\"popup__input\" type=\"url\"\n                       placeholder=\"Cсылка на картинку\"\n                       required\n                       value={link}\n                       onChange={handleLinkChange}\n                />\n                <span id=\"link-error\" className=\"popup__message-error\"> </span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport {api} from \"../utils/Api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport {Route} from \"react-router-dom\";\n\nfunction App() {\n\n    const [user, setUser] = React.useState({})\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n\n    const [selectedCard, setSelectedCard] = React.useState(undefined)\n\n    React.useEffect(() => {\n        api.getInitialProfile().then((info) => {\n            setUser(info);\n        }).catch((err) => console.log(err))\n    }, [])\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true)\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true)\n    }\n\n    function closeAllPopups() {\n        setEditProfilePopupOpen(false)\n        setAddPlacePopupOpen(false)\n        setEditAvatarPopupOpen(false)\n        setSelectedCard(undefined)\n    }\n\n    function handleUpdateUser(obj) {\n        api.updateUserProfile(obj).then((info) => {\n            setUser(info)\n        }).then(() => closeAllPopups())\n    }\n\n    function handleUpdateAvatar(obj) {\n        api.updateProfileAvatar(obj.avatar).then((info) => {\n            setUser(info)\n        }).then(() => closeAllPopups())\n            .catch((err) => console.log(err))\n    }\n\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [cards, setCards] = React.useState([])\n\n    React.useEffect(() => {\n        api.getInitialCards().then((card) => {\n            setCards(card)\n        }).catch((err) => console.log(err))\n    }, [])\n\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        if (!isLiked) {\n            api.updateLikes(card._id,).then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            }).catch((err) => console.log(err))\n        } else {\n            api.deleteLikes(card._id,).then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            }).catch((err) => console.log(err))\n        }\n\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id).then(() => {\n            const newCards = cards.filter((item) => card._id !== item._id)\n            setCards(newCards)\n        }).catch((err) => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(obj) {\n        api.addCard(obj).then((newCard) => {\n            setCards([newCard, ...cards]);\n        }).then(() => closeAllPopups())\n            .catch((err) => console.log(err))\n    }\n\n    return (\n        <div className=\"App\">\n            <div className=\"body\">\n                <div className=\"page\">\n                    <Route path={['/', '/mesto-react']} exact={true}>\n                    <Header/>\n                    <CurrentUserContext.Provider value={user}>\n                        <Main\n                            onAddPlace={handleAddPlaceClick}\n                            onEditAvatar={handleEditAvatarClick}\n                            onEditProfile={handleEditProfileClick}\n                            onSelectedCard={handleCardClick}\n                            cards={cards}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete}\n                        />\n                    </CurrentUserContext.Provider>\n                    <Footer/>\n                    </Route>\n                </div>\n                <section>\n                    <CurrentUserContext.Provider value={user}>\n                        <EditProfilePopup\n                            isOpen={isEditProfilePopupOpen}\n                            onClose={closeAllPopups}\n                            onUpdateUser={handleUpdateUser}\n\n                        />\n                        <AddPlacePopup\n                            isOpen={isAddPlacePopupOpen}\n                            onClose={closeAllPopups}\n                            onAddPlace={handleAddPlaceSubmit}\n                        >\n\n                        </AddPlacePopup>\n                        <EditAvatarPopup\n                            isOpen={isEditAvatarPopupOpen}\n                            onClose={closeAllPopups}\n                            onUpdateAvatar={handleUpdateAvatar}\n                        >\n                        </EditAvatarPopup>\n                    </CurrentUserContext.Provider>\n                    <ImagePopup\n                        card={selectedCard}\n                        onClose={closeAllPopups}\n                    />\n                </section>\n            </div>\n        </div>\n    )\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter, Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n    <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}